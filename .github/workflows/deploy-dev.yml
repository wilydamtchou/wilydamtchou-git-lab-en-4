name: Deploy Dev

on:
  workflow_dispatch:
    inputs:
      confirm:
        description: "Do you approve deployment ? (yes/no)"
        required: true
        default: "no"

jobs:
  # ðŸ”¹ CI Job - Use existing CI workflow
  call-ci:
    uses: ./.github/workflows/ci-flow.yml

  # ðŸ”¹ CD Job - Use existing CD workflow
  #   Executed if CI is successful
  deloy:
    needs: ci  # âœ… Wait from CI to finish
    if: ${{ github.event.inputs.confirm == 'yes' }}  # âœ… Only run if approved
    uses: ./.github/workflows/cd-flow.yml
